# OCPP Gateway
PORT=3000

# Base44 main ingest
BASE44_URL=https://targetecomobi.base44.app/api/functions/processOcppMessage
API_KEY=

# Base44 command queue (pull)
BASE44_COMMAND_QUEUE_URL=https://targetecomobi.base44.app/api/functions/processCommandQueue
BASE44_COMMAND_STATUS_URL=https://targetecomobi.base44.app/api/functions/updateCommandStatus

COMMAND_POLL_ON_BOOT=true
COMMAND_POLL_ON_HEARTBEAT=true
COMMAND_POLL_MIN_INTERVAL_MS=3000

# Base44 command push (webhook notify -> gateway)
COMMAND_PUSH_ENABLED=true
BASE44_WEBHOOK_SECRET=66316926
# For production behind your Nginx prefix /ocpp, keep it like this:
BASE44_WEBHOOK_PATH=/base44/command-webhook

# Timings
BOOT_INTERVAL_SEC=30
BASE44_HEARTBEAT_SEC=30

# Keepalive/ping
ENABLE_PING=false
PING_INTERVAL_MS=20000
TCP_KEEPALIVE_MS=15000

# Online TTL
ONLINE_TTL_SEC=240
ONLINE_SWEEP_SEC=30
BASE44_ONLINE_PING_SEC=30

# Auto triggers
AUTO_TRIGGER_STATUS=true
AUTO_TRIGGER_METER=false
AUTO_TRIGGER_CONNECTOR_ID=1

# Meter pull during transaction
METER_PULL_ENABLED=true
METER_PULL_INTERVAL_MS=5000
METER_PULL_CONNECTOR_ID_DEFAULT=1
IGNORE_ORPHAN_METERVALUES=true

# Logs
LOG_PAYLOADS=true
LOG_IN_PAYLOADS=true
LOG_IN_CALLRESULT_PAYLOADS=true
LOG_HEARTBEAT=false
LOG_METER_EACH_PULL=true

# Status poll
STATUS_POLL_ENABLED=true
STATUS_POLL_INTERVAL_MS=10000
# Prefer explicit list:
STATUS_POLL_CONNECTORS=1
# Or use max connectors:
STATUS_POLL_MAX_CONNECTORS=0

FORCE_AVAILABLE_AFTER_STOP=true
FORCE_AVAILABLE_DELAY_MS=8000
